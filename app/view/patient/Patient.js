/**
 * GaiaEHR (Electronic Health Records)
 * Copyright (C) 2013 Certun, LLC.
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */

Ext.define('App.view.patient.Patient', {
	extend: 'Ext.panel.Panel',
	requires: [
		'App.ux.AddTabButton',
		'App.view.patient.InsuranceForm'
	],
	layout: {
		type: 'vbox',
		align: 'stretch'
	},
	xtype: 'patientdeomgraphics',
	itemId: 'PatientDemographicsPanel',
	newPatient: true,
	pid: null,
	// default patient photo ID placeholder
	defaultPatientImage: 'data:image/jpeg;base64,/9j/4ROkRXhpZgAATU0AKgAAAAgADAEAAAMAAAABAGQAAAEBAAMAAAABAGQAAAECAAMAAAADAAAAngEGAAMAAAABAAIAAAESAAMAAAABAAEAAAEVAAMAAAABAAMAAAEaAAUAAAABAAAApAEbAAUAAAABAAAArAEoAAMAAAABAAIAAAExAAIAAAAeAAAAtAEyAAIAAAAUAAAA0odpAAQAAAABAAAA6AAAASAACAAIAAgACvzaAAAnEAAK/NoAACcQQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykAMjAxMjoxMToxOSAyMzoyNjo0NAAAAAAEkAAABwAAAAQwMjIxoAEAAwAAAAEAAQAAoAIABAAAAAEAAABkoAMABAAAAAEAAABkAAAAAAAAAAYBAwADAAAAAQAGAAABGgAFAAAAAQAAAW4BGwAFAAAAAQAAAXYBKAADAAAAAQACAAACAQAEAAAAAQAAAX4CAgAEAAAAAQAAEh4AAAAAAAAASAAAAAEAAABIAAAAAf/Y/+IMWElDQ19QUk9GSUxFAAEBAAAMSExpbm8CEAAAbW50clJHQiBYWVogB84AAgAJAAYAMQAAYWNzcE1TRlQAAAAASUVDIHNSR0IAAAAAAAAAAAAAAAAAAPbWAAEAAAAA0y1IUCAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAARY3BydAAAAVAAAAAzZGVzYwAAAYQAAABsd3RwdAAAAfAAAAAUYmtwdAAAAgQAAAAUclhZWgAAAhgAAAAUZ1hZWgAAAiwAAAAUYlhZWgAAAkAAAAAUZG1uZAAAAlQAAABwZG1kZAAAAsQAAACIdnVlZAAAA0wAAACGdmlldwAAA9QAAAAkbHVtaQAAA/gAAAAUbWVhcwAABAwAAAAkdGVjaAAABDAAAAAMclRSQwAABDwAAAgMZ1RSQwAABDwAAAgMYlRSQwAABDwAAAgMdGV4dAAAAABDb3B5cmlnaHQgKGMpIDE5OTggSGV3bGV0dC1QYWNrYXJkIENvbXBhbnkAAGRlc2MAAAAAAAAAEnNSR0IgSUVDNjE5NjYtMi4xAAAAAAAAAAAAAAASc1JHQiBJRUM2MTk2Ni0yLjEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFhZWiAAAAAAAADzUQABAAAAARbMWFlaIAAAAAAAAAAAAAAAAAAAAABYWVogAAAAAAAAb6IAADj1AAADkFhZWiAAAAAAAABimQAAt4UAABjaWFlaIAAAAAAAACSgAAAPhAAAts9kZXNjAAAAAAAAABZJRUMgaHR0cDovL3d3dy5pZWMuY2gAAAAAAAAAAAAAABZJRUMgaHR0cDovL3d3dy5pZWMuY2gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAZGVzYwAAAAAAAAAuSUVDIDYxOTY2LTIuMSBEZWZhdWx0IFJHQiBjb2xvdXIgc3BhY2UgLSBzUkdCAAAAAAAAAAAAAAAuSUVDIDYxOTY2LTIuMSBEZWZhdWx0IFJHQiBjb2xvdXIgc3BhY2UgLSBzUkdCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGRlc2MAAAAAAAAALFJlZmVyZW5jZSBWaWV3aW5nIENvbmRpdGlvbiBpbiBJRUM2MTk2Ni0yLjEAAAAAAAAAAAAAACxSZWZlcmVuY2UgVmlld2luZyBDb25kaXRpb24gaW4gSUVDNjE5NjYtMi4xAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB2aWV3AAAAAAATpP4AFF8uABDPFAAD7cwABBMLAANcngAAAAFYWVogAAAAAABMCVYAUAAAAFcf521lYXMAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAKPAAAAAnNpZyAAAAAAQ1JUIGN1cnYAAAAAAAAEAAAAAAUACgAPABQAGQAeACMAKAAtADIANwA7AEAARQBKAE8AVABZAF4AYwBoAG0AcgB3AHwAgQCGAIsAkACVAJoAnwCkAKkArgCyALcAvADBAMYAywDQANUA2wDgAOUA6wDwAPYA+wEBAQcBDQETARkBHwElASsBMgE4AT4BRQFMAVIBWQFgAWcBbgF1AXwBgwGLAZIBmgGhAakBsQG5AcEByQHRAdkB4QHpAfIB+gIDAgwCFAIdAiYCLwI4AkECSwJUAl0CZwJxAnoChAKOApgCogKsArYCwQLLAtUC4ALrAvUDAAMLAxYDIQMtAzgDQwNPA1oDZgNyA34DigOWA6IDrgO6A8cD0wPgA+wD+QQGBBMEIAQtBDsESARVBGMEcQR+BIwEmgSoBLYExATTBOEE8AT+BQ0FHAUrBToFSQVYBWcFdwWGBZYFpgW1BcUF1QXlBfYGBgYWBicGNwZIBlkGagZ7BowGnQavBsAG0QbjBvUHBwcZBysHPQdPB2EHdAeGB5kHrAe/B9IH5Qf4CAsIHwgyCEYIWghuCIIIlgiqCL4I0gjnCPsJEAklCToJTwlkCXkJjwmkCboJzwnlCfsKEQonCj0KVApqCoEKmAquCsUK3ArzCwsLIgs5C1ELaQuAC5gLsAvIC+EL+QwSDCoMQwxcDHUMjgynDMAM2QzzDQ0NJg1ADVoNdA2ODakNww3eDfgOEw4uDkkOZA5/DpsOtg7SDu4PCQ8lD0EPXg96D5YPsw/PD+wQCRAmEEMQYRB+EJsQuRDXEPURExExEU8RbRGMEaoRyRHoEgcSJhJFEmQShBKjEsMS4xMDEyMTQxNjE4MTpBPFE+UUBhQnFEkUahSLFK0UzhTwFRIVNBVWFXgVmxW9FeAWAxYmFkkWbBaPFrIW1hb6Fx0XQRdlF4kXrhfSF/cYGxhAGGUYihivGNUY+hkgGUUZaxmRGbcZ3RoEGioaURp3Gp4axRrsGxQbOxtjG4obshvaHAIcKhxSHHscoxzMHPUdHh1HHXAdmR3DHeweFh5AHmoelB6+HukfEx8+H2kflB+/H+ogFSBBIGwgmCDEIPAhHCFIIXUhoSHOIfsiJyJVIoIiryLdIwojOCNmI5QjwiPwJB8kTSR8JKsk2iUJJTglaCWXJccl9yYnJlcmhya3JugnGCdJJ3onqyfcKA0oPyhxKKIo1CkGKTgpaymdKdAqAio1KmgqmyrPKwIrNitpK50r0SwFLDksbiyiLNctDC1BLXYtqy3hLhYuTC6CLrcu7i8kL1ovkS/HL/4wNTBsMKQw2zESMUoxgjG6MfIyKjJjMpsy1DMNM0YzfzO4M/E0KzRlNJ402DUTNU01hzXCNf02NzZyNq426TckN2A3nDfXOBQ4UDiMOMg5BTlCOX85vDn5OjY6dDqyOu87LTtrO6o76DwnPGU8pDzjPSI9YT2hPeA+ID5gPqA+4D8hP2E/oj/iQCNAZECmQOdBKUFqQaxB7kIwQnJCtUL3QzpDfUPARANER0SKRM5FEkVVRZpF3kYiRmdGq0bwRzVHe0fASAVIS0iRSNdJHUljSalJ8Eo3Sn1KxEsMS1NLmkviTCpMcky6TQJNSk2TTdxOJU5uTrdPAE9JT5NP3VAnUHFQu1EGUVBRm1HmUjFSfFLHUxNTX1OqU/ZUQlSPVNtVKFV1VcJWD1ZcVqlW91dEV5JX4FgvWH1Yy1kaWWlZuFoHWlZaplr1W0VblVvlXDVchlzWXSddeF3JXhpebF69Xw9fYV+zYAVgV2CqYPxhT2GiYfViSWKcYvBjQ2OXY+tkQGSUZOllPWWSZedmPWaSZuhnPWeTZ+loP2iWaOxpQ2maafFqSGqfavdrT2una/9sV2yvbQhtYG25bhJua27Ebx5veG/RcCtwhnDgcTpxlXHwcktypnMBc11zuHQUdHB0zHUodYV14XY+dpt2+HdWd7N4EXhueMx5KnmJeed6RnqlewR7Y3vCfCF8gXzhfUF9oX4BfmJ+wn8jf4R/5YBHgKiBCoFrgc2CMIKSgvSDV4O6hB2EgITjhUeFq4YOhnKG14c7h5+IBIhpiM6JM4mZif6KZIrKizCLlov8jGOMyo0xjZiN/45mjs6PNo+ekAaQbpDWkT+RqJIRknqS45NNk7aUIJSKlPSVX5XJljSWn5cKl3WX4JhMmLiZJJmQmfyaaJrVm0Kbr5wcnImc951kndKeQJ6unx2fi5/6oGmg2KFHobaiJqKWowajdqPmpFakx6U4pammGqaLpv2nbqfgqFKoxKk3qamqHKqPqwKrdavprFys0K1ErbiuLa6hrxavi7AAsHWw6rFgsdayS7LCszizrrQltJy1E7WKtgG2ebbwt2i34LhZuNG5SrnCuju6tbsuu6e8IbybvRW9j74KvoS+/796v/XAcMDswWfB48JfwtvDWMPUxFHEzsVLxcjGRsbDx0HHv8g9yLzJOsm5yjjKt8s2y7bMNcy1zTXNtc42zrbPN8+40DnQutE80b7SP9LB00TTxtRJ1MvVTtXR1lXW2Ndc1+DYZNjo2WzZ8dp22vvbgNwF3IrdEN2W3hzeot8p36/gNuC94UThzOJT4tvjY+Pr5HPk/OWE5g3mlucf56noMui86Ubp0Opb6uXrcOv77IbtEe2c7ijutO9A78zwWPDl8XLx//KM8xnzp/Q09ML1UPXe9m32+/eK+Bn4qPk4+cf6V/rn+3f8B/yY/Sn9uv5L/tz/bf///+0ADEFkb2JlX0NNAAH/7gAOQWRvYmUAZIAAAAAB/9sAhAAMCAgICQgMCQkMEQsKCxEVDwwMDxUYExMVExMYEQwMDAwMDBEMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAQ0LCw0ODRAODhAUDg4OFBQODg4OFBEMDAwMDBERDAwMDAwMEQwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCABkAGQDASIAAhEBAxEB/90ABAAH/8QBPwAAAQUBAQEBAQEAAAAAAAAAAwABAgQFBgcICQoLAQABBQEBAQEBAQAAAAAAAAABAAIDBAUGBwgJCgsQAAEEAQMCBAIFBwYIBQMMMwEAAhEDBCESMQVBUWETInGBMgYUkaGxQiMkFVLBYjM0coLRQwclklPw4fFjczUWorKDJkSTVGRFwqN0NhfSVeJl8rOEw9N14/NGJ5SkhbSVxNTk9KW1xdXl9VZmdoaWprbG1ub2N0dXZ3eHl6e3x9fn9xEAAgIBAgQEAwQFBgcHBgU1AQACEQMhMRIEQVFhcSITBTKBkRShsUIjwVLR8DMkYuFygpJDUxVjczTxJQYWorKDByY1wtJEk1SjF2RFVTZ0ZeLys4TD03Xj80aUpIW0lcTU5PSltcXV5fVWZnaGlqa2xtbm9ic3R1dnd4eXp7fH/9oADAMBAAIRAxEAPwD1VJJJJSkkkklKSSSSUpJJJJSkkkklKSSSSUpJJJJT/9D1VJJJJSkkkklKWXn/AFm6JgWGm/JabhzVWC9wP8r092z+2sb69/WK7p9DOn4byzIyWl1ljeW1/R9v7rrXLhMS6qlpseNz3eKSn0ln126CTFj7Kh+8+sx/0N62cXMxc2oXYlrL6j+cwgj4LyQ9RqsG1zRBS6T1nJ6L1AZOK4mqR6tU+17O7Xf98ckp9hSQsbIqyserJpO6q5oew+ThuCKkpSSSSSlJJJJKf//R9VSSSSUpJJJJT5P9dr3XfWXLB4q2Vt+AY0/9U5Ykrc+u9Jq+s2UTxZsePmxo/wCqasJJSkikkUkvqn1Fvdd9W8YOMmpz6x8A4lv/AFS6BYH1FpNX1axiebC9/wAi9wH/AEWrfSQpJJJJSkkkklP/0vVUkkklKSSSSU+e/wCMvCLM3EzgPbbWanHzYd7f+jYuNXsH1k6TX1bpF+MRNjWmyg+FjRLP876C8fCSlJQ5zg1olzjAA7kpLo/qH0lnUOs+vcN1WE0Wx2L5in/0p/YSS+j9LxPsXTcXE70VMYfiAN3/AElaSSSQpJJJJS3dJOkkp//T9UTpJJKUkh3ZFFDN99jKmfvPcGj73LGzfrp0LFkMtdlWD8yhu7/wQ7av+mkp3CQBJ4XiWWKxl3ioh1YsfsI4Ldx2rput/W3q/Va3Y+PX9ixH6P1l7h+69/7v8li5d9bWaTJSUjXe/wCLIVinPMj1S6uW99oD4P8AnFcGInXhX+m5GdgZLcvp9uy1unkR3Y9v57UlPsiS5Dp31/rIDOqYr6X97avew+ez+cZ/4Iugw+u9HzY+zZdb3H8wna7/ALbs2vSU30kkklKSSSSU/wD/1O1699cendI/QsH2rLI0qYYDf+NfrtXL5P1p+sOdJdeMOo8MpG0x/wAY7dZ/0lyvquLt7jucTJJ1Mqb8q1/LvuSU6dtlLnb8i119ndz3Fx+9yE/PpZpW0LNLieSmlJTZtzLLPIKuSTymlKUkrqTLXsMgqEpJKb1XUSBDxKOMjDt+k0BZSUpIehxc/PxYOBm2VAcM3S3/ALbfuYtjB+v+ZjWNq6vQLazp69Ptd8XV/Qf/AGfTXENte3gkKVmQ+xoa8yAkp9k/a/Tf2f8AtL12/ZNu/wBTy4+j9Lfu9uxJeOfbMj7N9k3n0N2/Z2lJJT//1edG2O8pwuLSSS9qm1XFpJKe01TrikklPa6parikklPa6p1xKSSntdUy4tJJT2uqS4pJJT//2f/tG4ZQaG90b3Nob3AgMy4wADhCSU0EBAAAAAAADxwBWgADGyVHHAIAAAIAAAA4QklNBCUAAAAAABDNz/p9qMe+CQVwdq6vBcNOOEJJTQQ6AAAAAADlAAAAEAAAAAEAAAAAAAtwcmludE91dHB1dAAAAAUAAAAAUHN0U2Jvb2wBAAAAAEludGVlbnVtAAAAAEludGUAAAAAQ2xybQAAAA9wcmludFNpeHRlZW5CaXRib29sAAAAAAtwcmludGVyTmFtZVRFWFQAAAABAAAAAAAPcHJpbnRQcm9vZlNldHVwT2JqYwAAAAwAUAByAG8AbwBmACAAUwBlAHQAdQBwAAAAAAAKcHJvb2ZTZXR1cAAAAAEAAAAAQmx0bmVudW0AAAAMYnVpbHRpblByb29mAAAACXByb29mQ01ZSwA4QklNBDsAAAAAAi0AAAAQAAAAAQAAAAAAEnByaW50T3V0cHV0T3B0aW9ucwAAABcAAAAAQ3B0bmJvb2wAAAAAAENsYnJib29sAAAAAABSZ3NNYm9vbAAAAAAAQ3JuQ2Jvb2wAAAAAAENudENib29sAAAAAABMYmxzYm9vbAAAAAAATmd0dmJvb2wAAAAAAEVtbERib29sAAAAAABJbnRyYm9vbAAAAAAAQmNrZ09iamMAAAABAAAAAAAAUkdCQwAAAAMAAAAAUmQgIGRvdWJAb+AAAAAAAAAAAABHcm4gZG91YkBv4AAAAAAAAAAAAEJsICBkb3ViQG/gAAAAAAAAAAAAQnJkVFVudEYjUmx0AAAAAAAAAAAAAAAAQmxkIFVudEYjUmx0AAAAAAAAAAAAAAAAUnNsdFVudEYjUHhsQFIAk4AAAAAAAAAKdmVjdG9yRGF0YWJvb2wBAAAAAFBnUHNlbnVtAAAAAFBnUHMAAAAAUGdQQwAAAABMZWZ0VW50RiNSbHQAAAAAAAAAAAAAAABUb3AgVW50RiNSbHQAAAAAAAAAAAAAAABTY2wgVW50RiNQcmNAWQAAAAAAAAAAABBjcm9wV2hlblByaW50aW5nYm9vbAAAAAAOY3JvcFJlY3RCb3R0b21sb25nAAAAAAAAAAxjcm9wUmVjdExlZnRsb25nAAAAAAAAAA1jcm9wUmVjdFJpZ2h0bG9uZwAAAAAAAAALY3JvcFJlY3RUb3Bsb25nAAAAAAA4QklNA+0AAAAAABAASAJOAAEAAQBIAk4AAQABOEJJTQQmAAAAAAAOAAAAAAAAAAAAAD+AAAA4QklNA/IAAAAAAAoAAP///////wAAOEJJTQQNAAAAAAAEAAAAHjhCSU0EGQAAAAAABAAAAB44QklNA/MAAAAAAAkAAAAAAAAAAAEAOEJJTScQAAAAAAAKAAEAAAAAAAAAAThCSU0D9QAAAAAASAAvZmYAAQBsZmYABgAAAAAAAQAvZmYAAQChmZoABgAAAAAAAQAyAAAAAQBaAAAABgAAAAAAAQA1AAAAAQAtAAAABgAAAAAAAThCSU0D+AAAAAAAcAAA/////////////////////////////wPoAAAAAP////////////////////////////8D6AAAAAD/////////////////////////////A+gAAAAA/////////////////////////////wPoAAA4QklNBAAAAAAAAAIAADhCSU0EAgAAAAAAAgAAOEJJTQQwAAAAAAABAQA4QklNBC0AAAAAAAYAAQAAAAQ4QklNBAgAAAAAABAAAAABAAACQAAAAkAAAAAAOEJJTQQeAAAAAAAEAAAAADhCSU0EGgAAAAADUQAAAAYAAAAAAAAAAAAAAGQAAABkAAAADgBwAGEAdABpAGUAbgB0AFAAaABvAHQAbwBJAGQAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAGQAAABkAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAEAAAAAAABudWxsAAAAAgAAAAZib3VuZHNPYmpjAAAAAQAAAAAAAFJjdDEAAAAEAAAAAFRvcCBsb25nAAAAAAAAAABMZWZ0bG9uZwAAAAAAAAAAQnRvbWxvbmcAAABkAAAAAFJnaHRsb25nAAAAZAAAAAZzbGljZXNWbExzAAAAAU9iamMAAAABAAAAAAAFc2xpY2UAAAASAAAAB3NsaWNlSURsb25nAAAAAAAAAAdncm91cElEbG9uZwAAAAAAAAAGb3JpZ2luZW51bQAAAAxFU2xpY2VPcmlnaW4AAAANYXV0b0dlbmVyYXRlZAAAAABUeXBlZW51bQAAAApFU2xpY2VUeXBlAAAAAEltZyAAAAAGYm91bmRzT2JqYwAAAAEAAAAAAABSY3QxAAAABAAAAABUb3AgbG9uZwAAAAAAAAAATGVmdGxvbmcAAAAAAAAAAEJ0b21sb25nAAAAZAAAAABSZ2h0bG9uZwAAAGQAAAADdXJsVEVYVAAAAAEAAAAAAABudWxsVEVYVAAAAAEAAAAAAABNc2dlVEVYVAAAAAEAAAAAAAZhbHRUYWdURVhUAAAAAQAAAAAADmNlbGxUZXh0SXNIVE1MYm9vbAEAAAAIY2VsbFRleHRURVhUAAAAAQAAAAAACWhvcnpBbGlnbmVudW0AAAAPRVNsaWNlSG9yekFsaWduAAAAB2RlZmF1bHQAAAAJdmVydEFsaWduZW51bQAAAA9FU2xpY2VWZXJ0QWxpZ24AAAAHZGVmYXVsdAAAAAtiZ0NvbG9yVHlwZWVudW0AAAARRVNsaWNlQkdDb2xvclR5cGUAAAAATm9uZQAAAAl0b3BPdXRzZXRsb25nAAAAAAAAAApsZWZ0T3V0c2V0bG9uZwAAAAAAAAAMYm90dG9tT3V0c2V0bG9uZwAAAAAAAAALcmlnaHRPdXRzZXRsb25nAAAAAAA4QklNBCgAAAAAAAwAAAACP/AAAAAAAAA4QklNBBQAAAAAAAQAAAAEOEJJTQQMAAAAABI6AAAAAQAAAGQAAABkAAABLAAAdTAAABIeABgAAf/Y/+IMWElDQ19QUk9GSUxFAAEBAAAMSExpbm8CEAAAbW50clJHQiBYWVogB84AAgAJAAYAMQAAYWNzcE1TRlQAAAAASUVDIHNSR0IAAAAAAAAAAAAAAAAAAPbWAAEAAAAA0y1IUCAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAARY3BydAAAAVAAAAAzZGVzYwAAAYQAAABsd3RwdAAAAfAAAAAUYmtwdAAAAgQAAAAUclhZWgAAAhgAAAAUZ1hZWgAAAiwAAAAUYlhZWgAAAkAAAAAUZG1uZAAAAlQAAABwZG1kZAAAAsQAAACIdnVlZAAAA0wAAACGdmlldwAAA9QAAAAkbHVtaQAAA/gAAAAUbWVhcwAABAwAAAAkdGVjaAAABDAAAAAMclRSQwAABDwAAAgMZ1RSQwAABDwAAAgMYlRSQwAABDwAAAgMdGV4dAAAAABDb3B5cmlnaHQgKGMpIDE5OTggSGV3bGV0dC1QYWNrYXJkIENvbXBhbnkAAGRlc2MAAAAAAAAAEnNSR0IgSUVDNjE5NjYtMi4xAAAAAAAAAAAAAAASc1JHQiBJRUM2MTk2Ni0yLjEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFhZWiAAAAAAAADzUQABAAAAARbMWFlaIAAAAAAAAAAAAAAAAAAAAABYWVogAAAAAAAAb6IAADj1AAADkFhZWiAAAAAAAABimQAAt4UAABjaWFlaIAAAAAAAACSgAAAPhAAAts9kZXNjAAAAAAAAABZJRUMgaHR0cDovL3d3dy5pZWMuY2gAAAAAAAAAAAAAABZJRUMgaHR0cDovL3d3dy5pZWMuY2gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAZGVzYwAAAAAAAAAuSUVDIDYxOTY2LTIuMSBEZWZhdWx0IFJHQiBjb2xvdXIgc3BhY2UgLSBzUkdCAAAAAAAAAAAAAAAuSUVDIDYxOTY2LTIuMSBEZWZhdWx0IFJHQiBjb2xvdXIgc3BhY2UgLSBzUkdCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGRlc2MAAAAAAAAALFJlZmVyZW5jZSBWaWV3aW5nIENvbmRpdGlvbiBpbiBJRUM2MTk2Ni0yLjEAAAAAAAAAAAAAACxSZWZlcmVuY2UgVmlld2luZyBDb25kaXRpb24gaW4gSUVDNjE5NjYtMi4xAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB2aWV3AAAAAAATpP4AFF8uABDPFAAD7cwABBMLAANcngAAAAFYWVogAAAAAABMCVYAUAAAAFcf521lYXMAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAKPAAAAAnNpZyAAAAAAQ1JUIGN1cnYAAAAAAAAEAAAAAAUACgAPABQAGQAeACMAKAAtADIANwA7AEAARQBKAE8AVABZAF4AYwBoAG0AcgB3AHwAgQCGAIsAkACVAJoAnwCkAKkArgCyALcAvADBAMYAywDQANUA2wDgAOUA6wDwAPYA+wEBAQcBDQETARkBHwElASsBMgE4AT4BRQFMAVIBWQFgAWcBbgF1AXwBgwGLAZIBmgGhAakBsQG5AcEByQHRAdkB4QHpAfIB+gIDAgwCFAIdAiYCLwI4AkECSwJUAl0CZwJxAnoChAKOApgCogKsArYCwQLLAtUC4ALrAvUDAAMLAxYDIQMtAzgDQwNPA1oDZgNyA34DigOWA6IDrgO6A8cD0wPgA+wD+QQGBBMEIAQtBDsESARVBGMEcQR+BIwEmgSoBLYExATTBOEE8AT+BQ0FHAUrBToFSQVYBWcFdwWGBZYFpgW1BcUF1QXlBfYGBgYWBicGNwZIBlkGagZ7BowGnQavBsAG0QbjBvUHBwcZBysHPQdPB2EHdAeGB5kHrAe/B9IH5Qf4CAsIHwgyCEYIWghuCIIIlgiqCL4I0gjnCPsJEAklCToJTwlkCXkJjwmkCboJzwnlCfsKEQonCj0KVApqCoEKmAquCsUK3ArzCwsLIgs5C1ELaQuAC5gLsAvIC+EL+QwSDCoMQwxcDHUMjgynDMAM2QzzDQ0NJg1ADVoNdA2ODakNww3eDfgOEw4uDkkOZA5/DpsOtg7SDu4PCQ8lD0EPXg96D5YPsw/PD+wQCRAmEEMQYRB+EJsQuRDXEPURExExEU8RbRGMEaoRyRHoEgcSJhJFEmQShBKjEsMS4xMDEyMTQxNjE4MTpBPFE+UUBhQnFEkUahSLFK0UzhTwFRIVNBVWFXgVmxW9FeAWAxYmFkkWbBaPFrIW1hb6Fx0XQRdlF4kXrhfSF/cYGxhAGGUYihivGNUY+hkgGUUZaxmRGbcZ3RoEGioaURp3Gp4axRrsGxQbOxtjG4obshvaHAIcKhxSHHscoxzMHPUdHh1HHXAdmR3DHeweFh5AHmoelB6+HukfEx8+H2kflB+/H+ogFSBBIGwgmCDEIPAhHCFIIXUhoSHOIfsiJyJVIoIiryLdIwojOCNmI5QjwiPwJB8kTSR8JKsk2iUJJTglaCWXJccl9yYnJlcmhya3JugnGCdJJ3onqyfcKA0oPyhxKKIo1CkGKTgpaymdKdAqAio1KmgqmyrPKwIrNitpK50r0SwFLDksbiyiLNctDC1BLXYtqy3hLhYuTC6CLrcu7i8kL1ovkS/HL/4wNTBsMKQw2zESMUoxgjG6MfIyKjJjMpsy1DMNM0YzfzO4M/E0KzRlNJ402DUTNU01hzXCNf02NzZyNq426TckN2A3nDfXOBQ4UDiMOMg5BTlCOX85vDn5OjY6dDqyOu87LTtrO6o76DwnPGU8pDzjPSI9YT2hPeA+ID5gPqA+4D8hP2E/oj/iQCNAZECmQOdBKUFqQaxB7kIwQnJCtUL3QzpDfUPARANER0SKRM5FEkVVRZpF3kYiRmdGq0bwRzVHe0fASAVIS0iRSNdJHUljSalJ8Eo3Sn1KxEsMS1NLmkviTCpMcky6TQJNSk2TTdxOJU5uTrdPAE9JT5NP3VAnUHFQu1EGUVBRm1HmUjFSfFLHUxNTX1OqU/ZUQlSPVNtVKFV1VcJWD1ZcVqlW91dEV5JX4FgvWH1Yy1kaWWlZuFoHWlZaplr1W0VblVvlXDVchlzWXSddeF3JXhpebF69Xw9fYV+zYAVgV2CqYPxhT2GiYfViSWKcYvBjQ2OXY+tkQGSUZOllPWWSZedmPWaSZuhnPWeTZ+loP2iWaOxpQ2maafFqSGqfavdrT2una/9sV2yvbQhtYG25bhJua27Ebx5veG/RcCtwhnDgcTpxlXHwcktypnMBc11zuHQUdHB0zHUodYV14XY+dpt2+HdWd7N4EXhueMx5KnmJeed6RnqlewR7Y3vCfCF8gXzhfUF9oX4BfmJ+wn8jf4R/5YBHgKiBCoFrgc2CMIKSgvSDV4O6hB2EgITjhUeFq4YOhnKG14c7h5+IBIhpiM6JM4mZif6KZIrKizCLlov8jGOMyo0xjZiN/45mjs6PNo+ekAaQbpDWkT+RqJIRknqS45NNk7aUIJSKlPSVX5XJljSWn5cKl3WX4JhMmLiZJJmQmfyaaJrVm0Kbr5wcnImc951kndKeQJ6unx2fi5/6oGmg2KFHobaiJqKWowajdqPmpFakx6U4pammGqaLpv2nbqfgqFKoxKk3qamqHKqPqwKrdavprFys0K1ErbiuLa6hrxavi7AAsHWw6rFgsdayS7LCszizrrQltJy1E7WKtgG2ebbwt2i34LhZuNG5SrnCuju6tbsuu6e8IbybvRW9j74KvoS+/796v/XAcMDswWfB48JfwtvDWMPUxFHEzsVLxcjGRsbDx0HHv8g9yLzJOsm5yjjKt8s2y7bMNcy1zTXNtc42zrbPN8+40DnQutE80b7SP9LB00TTxtRJ1MvVTtXR1lXW2Ndc1+DYZNjo2WzZ8dp22vvbgNwF3IrdEN2W3hzeot8p36/gNuC94UThzOJT4tvjY+Pr5HPk/OWE5g3mlucf56noMui86Ubp0Opb6uXrcOv77IbtEe2c7ijutO9A78zwWPDl8XLx//KM8xnzp/Q09ML1UPXe9m32+/eK+Bn4qPk4+cf6V/rn+3f8B/yY/Sn9uv5L/tz/bf///+0ADEFkb2JlX0NNAAH/7gAOQWRvYmUAZIAAAAAB/9sAhAAMCAgICQgMCQkMEQsKCxEVDwwMDxUYExMVExMYEQwMDAwMDBEMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAQ0LCw0ODRAODhAUDg4OFBQODg4OFBEMDAwMDBERDAwMDAwMEQwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCABkAGQDASIAAhEBAxEB/90ABAAH/8QBPwAAAQUBAQEBAQEAAAAAAAAAAwABAgQFBgcICQoLAQABBQEBAQEBAQAAAAAAAAABAAIDBAUGBwgJCgsQAAEEAQMCBAIFBwYIBQMMMwEAAhEDBCESMQVBUWETInGBMgYUkaGxQiMkFVLBYjM0coLRQwclklPw4fFjczUWorKDJkSTVGRFwqN0NhfSVeJl8rOEw9N14/NGJ5SkhbSVxNTk9KW1xdXl9VZmdoaWprbG1ub2N0dXZ3eHl6e3x9fn9xEAAgIBAgQEAwQFBgcHBgU1AQACEQMhMRIEQVFhcSITBTKBkRShsUIjwVLR8DMkYuFygpJDUxVjczTxJQYWorKDByY1wtJEk1SjF2RFVTZ0ZeLys4TD03Xj80aUpIW0lcTU5PSltcXV5fVWZnaGlqa2xtbm9ic3R1dnd4eXp7fH/9oADAMBAAIRAxEAPwD1VJJJJSkkkklKSSSSUpJJJJSkkkklKSSSSUpJJJJT/9D1VJJJJSkkkklKWXn/AFm6JgWGm/JabhzVWC9wP8r092z+2sb69/WK7p9DOn4byzIyWl1ljeW1/R9v7rrXLhMS6qlpseNz3eKSn0ln126CTFj7Kh+8+sx/0N62cXMxc2oXYlrL6j+cwgj4LyQ9RqsG1zRBS6T1nJ6L1AZOK4mqR6tU+17O7Xf98ckp9hSQsbIqyserJpO6q5oew+ThuCKkpSSSSSlJJJJKf//R9VSSSSUpJJJJT5P9dr3XfWXLB4q2Vt+AY0/9U5Ykrc+u9Jq+s2UTxZsePmxo/wCqasJJSkikkUkvqn1Fvdd9W8YOMmpz6x8A4lv/AFS6BYH1FpNX1axiebC9/wAi9wH/AEWrfSQpJJJJSkkkklP/0vVUkkklKSSSSU+e/wCMvCLM3EzgPbbWanHzYd7f+jYuNXsH1k6TX1bpF+MRNjWmyg+FjRLP876C8fCSlJQ5zg1olzjAA7kpLo/qH0lnUOs+vcN1WE0Wx2L5in/0p/YSS+j9LxPsXTcXE70VMYfiAN3/AElaSSSQpJJJJS3dJOkkp//T9UTpJJKUkh3ZFFDN99jKmfvPcGj73LGzfrp0LFkMtdlWD8yhu7/wQ7av+mkp3CQBJ4XiWWKxl3ioh1YsfsI4Ldx2rput/W3q/Va3Y+PX9ixH6P1l7h+69/7v8li5d9bWaTJSUjXe/wCLIVinPMj1S6uW99oD4P8AnFcGInXhX+m5GdgZLcvp9uy1unkR3Y9v57UlPsiS5Dp31/rIDOqYr6X97avew+ez+cZ/4Iugw+u9HzY+zZdb3H8wna7/ALbs2vSU30kkklKSSSSU/wD/1O1699cendI/QsH2rLI0qYYDf+NfrtXL5P1p+sOdJdeMOo8MpG0x/wAY7dZ/0lyvquLt7jucTJJ1Mqb8q1/LvuSU6dtlLnb8i119ndz3Fx+9yE/PpZpW0LNLieSmlJTZtzLLPIKuSTymlKUkrqTLXsMgqEpJKb1XUSBDxKOMjDt+k0BZSUpIehxc/PxYOBm2VAcM3S3/ALbfuYtjB+v+ZjWNq6vQLazp69Ptd8XV/Qf/AGfTXENte3gkKVmQ+xoa8yAkp9k/a/Tf2f8AtL12/ZNu/wBTy4+j9Lfu9uxJeOfbMj7N9k3n0N2/Z2lJJT//1edG2O8pwuLSSS9qm1XFpJKe01TrikklPa6parikklPa6p1xKSSntdUy4tJJT2uqS4pJJT//2ThCSU0EIQAAAAAAVQAAAAEBAAAADwBBAGQAbwBiAGUAIABQAGgAbwB0AG8AcwBoAG8AcAAAABMAQQBkAG8AYgBlACAAUABoAG8AdABvAHMAaABvAHAAIABDAFMANgAAAAEAOEJJTQQGAAAAAAAHAAgAAAABAQD/4Q+7aHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjMtYzAxMSA2Ni4xNDU2NjEsIDIwMTIvMDIvMDYtMTQ6NTY6MjcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxMi0wNC0yNFQxNjozMDoyNi0wNDowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTItMTEtMTlUMjM6MjY6NDQtMDQ6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTItMTEtMTlUMjM6MjY6NDQtMDQ6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvanBlZyIgcGhvdG9zaG9wOkxlZ2FjeUlQVENEaWdlc3Q9IjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUY0MEQzMUJDMjMyRTIxMUE1NzhERjExOTIzOEY2MTMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MDczMkY4ODg3Q0FGRTExMUIxNzRGM0Y5REZEMjcyREQiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowNzMyRjg4ODdDQUZFMTExQjE3NEYzRjlERkQyNzJERCI+IDxwaG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDxyZGY6QmFnPiA8cmRmOmxpPnhtcC5kaWQ6MDczMkY4ODg3Q0FGRTExMUIxNzRGM0Y5REZEMjcyREQ8L3JkZjpsaT4gPC9yZGY6QmFnPiA8L3Bob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDowNzMyRjg4ODdDQUZFMTExQjE3NEYzRjlERkQyNzJERCIgc3RFdnQ6d2hlbj0iMjAxMi0wNC0yNFQxNjozMDoyNi0wNDowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNvbnZlcnRlZCIgc3RFdnQ6cGFyYW1ldGVycz0iZnJvbSBpbWFnZS9wbmcgdG8gaW1hZ2UvanBlZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MDgzMkY4ODg3Q0FGRTExMUIxNzRGM0Y5REZEMjcyREQiIHN0RXZ0OndoZW49IjIwMTItMDYtMDVUMjI6MDg6NDAtMDQ6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo5RjQwRDMxQkMyMzJFMjExQTU3OERGMTE5MjM4RjYxMyIgc3RFdnQ6d2hlbj0iMjAxMi0xMS0xOVQyMzoyNjo0NC0wNDowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw/eHBhY2tldCBlbmQ9InciPz7/4gxYSUNDX1BST0ZJTEUAAQEAAAxITGlubwIQAABtbnRyUkdCIFhZWiAHzgACAAkABgAxAABhY3NwTVNGVAAAAABJRUMgc1JHQgAAAAAAAAAAAAAAAQAA9tYA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1eX1KEdXZjh2hpamtsbW5vZnd4eXp7fH1+f3SFhoeIiYqLjI2Oj4OUlZaXmJmam5ydnp+So6SlpqeoqaqrrK2ur6/9oADAMBAAIRAxEAPwDf49+691737r3Xvfuvde9+691737r3Xvfuvde9+691737r3Xvfuvde9+691737r3Xvfuvde9+691//0N/j37r3Xvfuvde9+691737r3Xvfuvde9+691737r3Xvfuvde9+691737r3Xvfuvde9+691737r3X//R3+Pfuvde9+691737r3Xvfuvde9+690RDvj+Zb8K/jruCq2Z2D3dgqrflFK8FZsXY9Hld/bpoKqO/ko8vR7UospS7frEtzFkZ6RxcXFj7917oAsX/ADsPghUVcUG4N09i7GoZZFRc3urrLcRxCamCrJPLttNxVlPDzcvJCqqBdiPfuvdWRdV9x9V947TpN9dP9gbU7I2jWM0UWd2hmqLM0UdSqq0lFWGkleXHZGAMPJTVCxTx39SD37r3Qle/de697917r3v3Xuve/de697917r//0t/j37r3Xvfuvde9+691737r3WvZ/Pc/mG7t+NextsfGzpbcFVtvtXuHCVue3hu3EVJps5svrFaqbEQ0+Eq4XSoxmd3vk6aqgjrIyJqSjoqgxlJZYZY/dbAJNB1qXdV7t23smjqdxZenGUzuRqJmV6omaREWRgSXcszvNJd2YksxPPvfT3Qs1PyH23uOCXF5XB0v2s6NCS0K8Bhp+tvwD710x1w+JnzI7L+CvyCoezOqMxXz7SbK0kG+uv5a6RNvdg7LklSWuwWUpCXpRkqWnlkONr9BnoKkK6koZY5PdXILGo4dfRY627B2v2x19sjs/ZNeuU2h2DtXA7y23XgKrVOF3HjKbK495Y1Z/DUCmqlEsZN45AynkH37qnS29+691737r3Xvfuvde9+691//09/j37r3Xvfuvde9+691737r3Xz6P52O9sjvP+ZV8gYayZnpdmDYGycPEzs602PxPX+2ayeKIH9CzZjJ1cxA41ysfz796dX8k6qxMjlFjudK3sObcm/H5/PvfTnWMEqbj37r3XVQ7SBmYm4AHP8AgoX37r3W/h/Iv3tkd5/y3OmYcnUNUz7MzfY2yYZXJLjHYve+Zr8VTkm5K0eNy0UKf0jjUfj3rpjq3r37r3Xvfuvde9+691737r3X/9Tf49+691737r3Xvfuvde9+6918+z+dzs2o2d/Mv78mlVhS7xp+ut6Y92XSJYMn11tigqSl/wBSplsTUpf+qH+nv3l1cfAeqqPe+nOve/de6xTkqpP5+v8AvH+8Hn37r3W/1/Iz2bVbR/lr9HzVsfin3hlOyd5hLWb7XK9g7io8dI35PnxmMhkB/KsPeumOrdffuvde9+691737r3Xri9r8/W35t/W3v3Xuv//V3+Pfuvde9+691737r3Xvfuvdad//AApZ6aqsP3J8e+/qOhP8L3rsPM9X5qujQmKLObHzU24sQtWw4WoyWJ3hOsN/1JQPb9J9+6svxDrWkBuAf8P+R/7z7307137917rpKSsydZRYrHUs9dkMlV09BQUVNG0tTWVtZMkFLS08SAtLPUTyKiqOWYgD37r3X08/i91OnRHxy6N6cCKk/W3VWx9o5EoQyzZnD7eoKbOVQZeGNXmFnlJ5uX+p966Y6Hj37r3Xvfuvde9+691g0H7ryXOn7fRbm1/Jqv8A0vb37r3X/9bf3BBFxyLkf7EEgj/YEe/de679+691737r3XvfuvdES/mRfFHBfMX4idqdV1tEk27Mdha3fXVuRCBqnE9lbUxtdW7denc8pDm1ebFVXBJo6+Ww1aSPde6+b1TFgpVwQyEqysCpVlNipUgEEN9fe+n+pJFgx/1P19+691dL/Ig+KOD+RvzK/v8A70oY8nsr424Wg7M/h8yCWkyXYNRlUouu6StRgQ0GPrqaqywBNnmxcaMCjMDrpotUAefW+J791Xr3v3Xuve/de697917r3v3Xuv/X39lAAsP9Ux/27k/72ffuvdcvfuvde9+691737r3WKWWKGKSWeSOKGKN5JpZWVIo4kBaSSR3IRI0QEkk2A+vv3Xuvls9s0uCou2+06XatZTZHbFP2PviDbmQopFlo6/AxbnyceHraSRPTJTVePWOSNhwVYEce99P9ID37r3W2p/wmVg23Fs75aTR19A28KvdPVsdXi/LEMnFtqgxW72x2Q8BPmagqcpkqqPWAVEkViQSL66ab8P2dbS3v3Veve/de697917r3v3Xuve/de6//0N/j37r3XvfuvdJLd+/djde4uTOb+3ntTZGFiDNLl93bhxG28YgQXYvXZiro6UaR9fV7917qtDun+c58GOpI6ykwO/c33huSnSUQ4DpfbtXueCaZRaNTu/INhtjeF5OC8eRmYC5CG1j7r3Wv/wDNz+bP8t/lztzO9adc7Th+N/Smchnx+ehhzb5HsLeOEqEaCpxuf3TDBSx47DV8BInocdTwGVGaKaonhZlPutinnw6ofzeBocCTT/eLXVQYh3iUJChW/wCldTM31+pJ/wBb3vp7pO0vgabTOLxM3qINiAT9VItyPfuvdGz+N2/u8Pjt2Jhu4/jfv+XbO88XG1PLHqiejzWHmeKeu29uLFVCTY3P4XINAnlpqiPSHRJEKSxxyL49Ufy62dvj1/P725U0lBg/lx0Xu7rnOokcFZv3q6mbeWx6uQBRJX1W2amsTdeAgY3Pip5My39CPp7103T06uC6g+dfxA74FPH1h8hOtM7k6pYzFtzIZ+Hau7ryEWQ7R3YuD3LqDccUpFx9ffuvdGyVgwDKQysAQQbgg8ggj6g+/de679+691737r3X/9HZ/wDnl/OJ+PfwxP8AczBUs3dvdVZTST02xNq5WmosLt5WeWClqd87q8GRXEfczRkw0dNTVlbNHZ2SKKSOVvdbAJ4dUO9i/wA0X+YL8gRPWV3auL+O2yq0s9NtbqHHQ4LLR0ri8Qq965OTK7y+7EZGpqatpYy1yEX6D2OrUT16IlurP7MrslJn+xt77k7J3I2tp8xvDcWU3PlJpG9T+SvzVZXVchZhc3b37qnQb5XvfaOGjeDbeEpVZRZHESEiw4Nrfj3vp/oB91dw7i3EZI/MaeBiQEjOiym/4HHv3XugkmmlqHZ5XZmY3JJ1Hk3+p/xPv3XusX0synj/AH3B9+690oMLubK4SZJqKpkjKkGwc24I/F7e/de6MHtr5DVdNGlNm6KKtisFYyIjlhex+ov+PfuvdChTb96h3YgTK4mmpZZOS6oifWxJ4H4/w966Y6Ml1j3z3t1IIaj49fKDsvY8FPpem23/AHpqs5tAlDdUk2buRsxtaVb8eqkJt7917qyTo3+f3291Xn8VtD5ndX4ffG2KuaOn/wBK3VNNHt/c9ND5EWXIZPZ1VUvtrPyRISzxUc2IIXlFkI0e/dep6dbF3+zd/HL/AEAf7ND/AKVdt/6D/wC6/wDe7++3ml8P8M8/2P2n8M8X8X/j/wDFf8h/hvg+++//AMn8Xl9Hv3Xuv//Sqj/vTkKjJTZzIVkmUy9XXrlKvI5KSasqqmt+5aseaaaWYySNLM5LXP04Gn37q54HpRZbs/dWZGiqybxx20iOmDRIABYABne3HvdOt6Pn0jJslPUMTPUTSk/XWzNwR/Qm/Fvfur9RzOjHkkD/AABt/tr+/de64+ZP8f8Abe/de695V/2r/kk+/de678q3tzf/AFvfuvdd6x/j/vH/ABX37r3XtY/x/wB4/wCK+/de65rOVN1LAj6EXuB9eOffuvdOtDubLYyRXpMhUwsvIsxIv/rE2t7917p33Dv7Oblx9NjsvURVMNJP5oZDGwmD+N47NIzEadMhtYD37r3Tj/pd7C/0Z/6Hv70Zb/Rz/eL+9X92vup/4d/F/t/t/N4dejRb1aLadXqtfn37r3X/06bKf7HwR2/iHm9X6/t/FfUdH6Ob+O1/9q+nHvfTg1edepUWq/Nvof8AXt/j/j791cdZTq5/2P8Ar3/5F/vPv3XusP7n4/2P6vr/ALD37r3XY8n5/r/tXv3XupA1fjVb/C/v3XusTeXVxa3+P1/3n/D37r3XR+7/ABa3+N/+I9+6910PvLj9P1H9ffuvdTF1afVbVbn62vf8f4f8R7917qK3l1/i1/z/AL6309+691xbyafVa3NrfW1z9fxf+n+Pv3Xuu/3dP5/T/wAnaf8Aob37r3X/2Q==',

	// default QRCode image placeholder
	defaultQRCodeImage: 'data:image/jpeg;base64,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',

	initComponent: function(){
		var me = this;

		me.store = Ext.create('App.store.patient.Patient');
		me.patientAlertsStore = Ext.create('App.store.patient.MeaningfulUseAlert');

		me.compactDemographics = eval(g('compact_demographics'));

		me.insTabPanel = Ext.widget('tabpanel', {
			itemId: 'PatientInsurancesPanel',
			flex: 1,
			defaults: {
				autoScroll: true,
				padding: 10
			},
			plugins: [
				{
					ptype: 'AddTabButton',
					iconCls: 'icoAdd',
					toolTip: _('new_insurance'),
					btnText: _('add_insurance'),
					forceText: true,
					panelConfig: {
						xtype: 'patientinsuranceform'
					}
				}
			],
			listeners: {
				scope: me,
				beforeadd: me.insurancePanelAdd
			}
		});

		var configs = {
			items: [
				me.demoForm = Ext.widget('form', {
					action: 'demoFormPanel',
					itemId: 'PatientDemographicForm',
					type: 'anchor',
					border: false,
					autoScroll: true,
					padding: (me.compactDemographics ? 0 : 10),
					fieldDefaults: {
						labelAlign: 'right',
						msgTarget: 'side'
					}
				})
			]
		};

		if(me.compactDemographics){
			configs.items.push(me.insTabPanel);
		}

		configs.bbar = [
			{
				xtype: 'button',
				action: 'readOnly',
				text: _('possible_duplicates'),
				minWidth: 75,
				itemId: 'PatientPossibleDuplicatesBtn'
			},
			'-',
			'->',
			'-',
			{
				xtype: 'button',
				action: 'readOnly',
				text: _('save'),
				itemId: 'PatientDemographicSaveBtn',
				minWidth: 75,
				scope: me,
				handler: me.formSave
			},
			'-',
			{
				xtype: 'button',
				text: _('cancel'),
				action: 'readOnly',
				itemId: 'PatientDemographicCancelBtn',
				minWidth: 75,
				scope: me,
				handler: me.formCancel
			}
		];

		configs.listeners = {
			scope: me,
			beforerender: me.beforePanelRender
		};

		Ext.apply(me, configs);

		me.callParent(arguments);

		if(!me.compactDemographics){

			Ext.Function.defer(function(){
				me.insTabPanel.title = _('insurance');
				me.insTabPanel.addDocked({
					xtype: 'toolbar',
					dock: 'bottom',
					items: [
						'->',
						'-',
						{
							xtype: 'button',
							action: 'readOnly',
							text: _('save'),
							minWidth: 75,
							scope: me,
							handler: me.formSave
						},
						'-',
						{
							xtype: 'button',
							text: _('cancel'),
							action: 'readOnly',
							minWidth: 75,
							scope: me,
							handler: me.formCancel
						}
					]
				});

				me.up('tabpanel').insert(1, me.insTabPanel);
			}, 300);
		}
	},

	beforePanelRender: function(){
		var me = this,
			whoPanel;

		me.getFormItems(me.demoForm, 1, function(formPanel){

			var form = me.demoForm.getForm(),
				fname = form.findField('fname'),
				mname = form.findField('mname'),
				lname = form.findField('lname'),
				address = form.findField('address'),
				address_cont = form.findField('address_cont'),
				city = form.findField('city'),

				sex = form.findField('sex'),
				dob = form.findField('DOB'),
				zipcode = form.findField('zipcode'),
				home_phone = form.findField('home_phone'),
				mobile_phone = form.findField('mobile_phone'),
				emer_phone = form.findField('emer_phone'),
				work_phone = form.findField('work_phone'),
				work_phone_ext = form.findField('work_phone_ext'),
				email = form.findField('email'),
				phone_reg = new RegExp(g('phone_validation_format')),
				zipcode_reg = new RegExp(g('zipcode_validation_format'));

			if(fname) fname.vtype = 'nonspecialcharacters';
			if(mname) mname.vtype = 'nonspecialcharacters';
			if(lname) lname.vtype = 'nonspecialcharacters';
			if(address) address.vtype = 'nonspecialcharacters';
			if(address_cont) address_cont.vtype = 'nonspecialcharacters';
			if(city) city.vtype = 'nonspecialcharacters';

			if(email) email.vtype = 'email';
			if(zipcode) zipcode.regex = zipcode_reg;
			if(home_phone) home_phone.regex = phone_reg;
			if(mobile_phone) mobile_phone.regex = phone_reg;
			if(emer_phone) emer_phone.regex = phone_reg;
			if(work_phone) work_phone.regex = phone_reg;
			if(work_phone_ext) work_phone_ext.regex = new RegExp('^[0-9]*$');
			if(dob) dob.setMaxValue(new Date());

			if(me.newPatient){
				var crtl = App.app.getController('patient.Patient');

				fname.on('blur', crtl.checkForPossibleDuplicates, crtl);
				lname.on('blur', crtl.checkForPossibleDuplicates, crtl);
				sex.on('blur', crtl.checkForPossibleDuplicates, crtl);
				dob.dateField.on('blur', crtl.checkForPossibleDuplicates, crtl);
			}else{
				whoPanel = formPanel.query('[action=DemographicWhoFieldSet]')[0];
				whoPanel.insert(0,
					me.patientImages = Ext.create('Ext.panel.Panel', {
						action: 'patientImage',
						layout: 'hbox',
						style: 'float:right',
						bodyPadding: 5,
						height: 160,
						width: 255,
						items: [
							{
								xtype: 'image',
								width: 119,
								height: 119,
								itemId: 'image',
								margin: '0 5 0 0',
								src: me.defaultPatientImage
							},
							{
								xtype: 'textareafield',
								name: 'image',
								hidden: true
							},
							{
								xtype: 'image',
								itemId: 'qrcode',
								width: 119,
								height: 119,
								margin: 0,
								src: me.defaultQRCodeImage
							}
						],
						bbar: [
							'-',
							{
								text: _('take_picture'),
								action: 'onWebCam'
								//				                handler: me.getPhotoIdWindow
							},
							'-',
							'->',
							'-',
							{
								text: _('print_qrcode'),
								scope: me,
								handler: function(){
									window.printQRCode(app.patient.pid);
								}
							},
							'-'
						]
					})
				);
			}
		});

	},


	insurancePanelAdd: function(tapPanel, panel){
		var me = this,
			record = panel.insurance || Ext.create('App.model.patient.Insurance', { pid: me.pid });

		panel.title = _('insurance') + ' (' + (record.data.insurance_type ? record.data.insurance_type : _('new')) + ')';

		me.insuranceFormLoadRecord(panel, record);
		if(record.data.image !== '') panel.down('image').setSrc(record.data.image);
	},


	insuranceFormLoadRecord: function(form, record){
		form.getForm().loadRecord(record);
		app.fireEvent('insurancerecordload', form, record);
	},


	getValidInsurances: function(){
		var me = this,
			forms = me.insTabPanel.items.items,
			records = [],
			form,
			rec;

		for(var i = 0; i < forms.length; i++){
			form = forms[i].getForm();
			if(!form.isValid()){
				me.insTabPanel.setActiveTab(forms[i]);
				return false;
			}

			rec = form.getRecord();

			app.fireEvent('beforepatientinsuranceset', form, rec);

			rec.set(form.getValues());

			app.fireEvent('afterpatientinsuranceset', form, rec);

			records.push(rec);
		}

		return records;
	},

	getPatientImages: function(record){
		var me = this;
		if(me.patientImages) me.patientImages.getComponent('image').setSrc((record.data.image !== '' ? record.data.image : me.defaultPatientImage));
		if(me.patientImages) me.patientImages.getComponent('qrcode').setSrc((record.data.qrcode !== '' ? record.data.qrcode : me.defaultQRCodeImage));
	},

	/**
	 * verify the patient required info and add a yellow background if empty
	 */
	verifyPatientRequiredInfo: function(){
		var me = this,
			field;
		me.patientAlertsStore.load({
			scope: me,
			params: {pid: me.pid},
			callback: function(records, operation, success){
				for(var i = 0; i < records.length; i++){
					field = me.demoForm.getForm().findField(records[i].data.name);
					if(records[i].data.val){
						if(field) field.removeCls('x-field-yellow');
					}else{
						if(field) field.addCls('x-field-yellow');
					}
				}
			}
		});
	},

	/**
	 * allow to edit the field if the filed has no data
	 * @param fields
	 */
	readOnlyFields: function(fields){
		//        for(var i = 0; i < fields.items.length; i++){
		//            var f = fields.items[i], v = f.getValue(), n = f.name;
		//            if(n == 'SS' || n == 'DOB' || n == 'sex'){
		//                if(v == null || v == ''){
		//                    f.setReadOnly(false);
		//                }else{
		//                    f.setReadOnly(true);
		//                }
		//            }
		//        }
	},

	formSave: function(){
		var me = this,
			form = me.demoForm.getForm(),
			record = form.getRecord(),
			values = form.getValues(),
			insRecs = me.getValidInsurances();

		if(form.isValid() && insRecs !== false){
			record.set(values);

			// fire global event
			app.fireEvent('beforedemographicssave', record, me);

			record.save({
				scope: me,
				callback: function(record){

					app.setPatient(record.data.pid, null, function(){

						var insStore = record.insurance();

						for(var i = 0; i < insRecs.length; i++){
							if(insRecs[i].data.id === 0){
								insStore.add(insRecs[i]);
							}
						}

						insStore.sync();

						if(me.newPatient){
							app.openPatientSummary();
						}else{
							me.getPatientImages(record);
							me.verifyPatientRequiredInfo();
							me.readOnlyFields(form.getFields());
						}
					});

					// fire global event
					app.fireEvent('afterdemographicssave', record, me);

					me.msg('Sweet!', _('record_saved'));
					// GAIAEH-177 GAIAEH-173 170.302.r Audit Log (core)
					app.AuditLog('Patient new record ' + (me.newPatient ? 'created' : 'updated'));
				}
			});
		}else{
			me.msg(_('oops'), _('missing_required_data'), true);
		}
	},

	formCancel: function(btn){
		var form = btn.up('form').getForm(), record = form.getRecord();
		form.loadRecord(record);
	},

	loadNew: function(){
		var patient = Ext.create('App.model.patient.Patient', {
			'create_uid': app.user.id,
			'update_uid': app.user.id,
			'create_date': new Date(),
			'update_date': new Date(),
			'DOB': '0000-00-00 00:00:00'
		});

		// GAIAEH-177 GAIAEH-173 170.302.r Audit Log (core)
		app.AuditLog('Patient new record created');
		this.demoForm.getForm().loadRecord(patient);
	},

	loadPatient: function(pid){
		var me = this,
			form = me.demoForm.getForm();

		me.pid = pid;

		form.reset();

		// GAIAEH-177 GAIAEH-173 170.302.r Audit Log (core)
		app.AuditLog('Patient record viewed');

		app.patient.record.insurance().load({
			filters: [
				{
					property: 'pid',
					value: app.patient.record.data.pid
				}
			],
			callback: function(records){

				form.loadRecord(app.patient.record);
				me.setReadOnly(app.patient.readOnly);
				me.setButtonsDisabled(me.query('button[action="readOnly"]'));
				me.getPatientImages(app.patient.record);
				me.verifyPatientRequiredInfo();

				// set the insurance panel
				me.insTabPanel.removeAll(true);
				for(var i = 0; i < records.length; i++){

					me.insTabPanel.add(
						Ext.widget('patientinsuranceform', {
							insurance: records[i]
						})
					);

				}

				if(me.insTabPanel.items.length !== 0) me.insTabPanel.setActiveTab(0);
			}
		});

	}
});